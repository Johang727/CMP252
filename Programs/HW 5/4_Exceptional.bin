; Johang Hernandez
; Module 5 Assignment - Exceptional

; For an exceptional assessment, further modify the program so that when a lower case
; character is entered, the same letter in capital form is output.
;
;	High Level Algorithm
;
;	total = 0
;
;	do
;		Get input
;		Put input into variable char
;		if char >= 97 (x61) && char <= 122 (x7A): // is lowercase
;			print(char.upper())
;		else:
;			print(char) // the reason I didn't put this below is because this would not print out numbers
;			or another non-alphabet characters
;		if char >= 65 (x41) && char <= 90 (x5A): // is uppercase
;			total += 1
;	while char != "*" // 42 | x2A

;	------------------------
;
;	Machine Level Algorithm
;		TRAP GETC (x20) or TRAP IN (x23)
;		No echo			   Echo
;
;		TRAP OUT (x21)
;		Print R0
;	
;	Start

;	Initialize R2 to 0 (R2 is the # of characters that are uppercase)
;	
;	loop:
;		Use TRAP x23 to put an ASCII Char in R0

;		// check if lower-case
;		
;		Init. R1 to 0
;		ADD R0 to R1
;		ADD -97 to R1 // if a, then = 0 || if A, -32 || if {, then 26
;		if z || p, branch to printing script
;		

;		Return to here after printing script, not (x3001)

;		Initialize R1 to 0 (R1 is temporary character storage)
;		ADD R0 to R1 
;		ADD -65 to R1 // if A, then = 0 || if a, then 32
;		If z || p, branch to counter script
;		

;		
;		ADD -42 from R0
;			If n || p, branch to loop

;		HALT

;		// counter script 
;		ADD -26 to R1 // if A, then -26 || if a, then 6 || if Z, then -1
;		if z || p, branch to loop
;		ADD 1 to R2
;		if nzp branch to loop // always branch back to loop

;		// printing script
;		ADD -26 to R1 // if a, then -26 || if {, then 0 || if z, then -1
;		if z || p, branch to loop
;		
;		// for sure, this is a lowercase character print out the uppercase one

;		ADD -32 to R0
;		Use TRAP x21 to print out the uppercase ASCII Char
;		ADD 32 to R0
;		if nzp branch to loop // always branch back to loop


; --------- 

0011 0000 0000 0000			; set x3000 as beginning location

0101 010 010 1 00000		; x3000		Init. capital letter input counter (R2)

; Start Loop
1111 0000 0010 0011			; x3001		get character from user -> input (R0)

0101 001 001 1 00000		; x3002		set R1 to 0 | Initialize char
0001 001 000 000 001		; x3003		add R0 to R1 | set char to input

0101 001 001 1 00000		; x3004		set R1 to 0 
0001 001 000 000 001		; x3005		add R0 to R1

; Check if lowercase
0001 001 001 1 10000		; x3006		Subtract 16 from R1
0001 001 001 1 10000		; x3007		Subtract 16 from R1
0001 001 001 1 10000		; x3008		Subtract 16 from R1
0001 001 001 1 10000		; x3009		Subtract 16 from R1
0001 001 001 1 10000		; x300A		Subtract 16 from R1
0001 001 001 1 10000		; x300B		Subtract 16 from R1
0001 001 001 1 11111		; x300C		Subtract 1 from R1
0000 0 1 1 000001110		; x300D 	Jump to printing branch (x301C) if zero or positive

; Print character if not lowercase
1111 0000 0010 0001			; x300E		print character from R0

; Check if uppercase
0101 001 001 1 00000		; x300F		set R1 to 0 
0001 001 000 000 001		; x3010		add R0 to R1
0001 001 001 1 10000		; x3011		Subtract 16 from R1
0001 001 001 1 10000		; x3012		Subtract 16 from R1
0001 001 001 1 10000		; x3013		Subtract 16 from R1
0001 001 001 1 10000		; x3014		Subtract 16 from R1
0001 001 001 1 11111		; x3015		Subtract 1 from R1
0000 0 1 1 000001110		; x3016 	Jump to inc counter branch (x3025) if zero or positive

; Check if exit character *
0001 000 000 1 10000		; x3017		SUB 16 from R0
0001 000 000 1 10000		; x3018		SUB 16 from R0
0001 000 000 1 10110		; x3019		SUB 10 from R0
0000 1 0 1 111100110		; x301A		Return to loop (x3001) when negative or positive

1111 0000 0010 0101			; x301B		HALT PROGRAM

; Printing Branch
0001 001 001 1 10000		; x301C		SUB 16 from R1
0001 001 001 1 10110		; x301D		SUB 10 from R1
0000 0 1 1 111101111		; x301E		Return to x300E if not within bounds char > 122

0001 000 000 1 10000		; x301F		SUB 16 from R0
0001 000 000 1 10000		; x3020		SUB 16 from R0

1111 0000 0010 0001			; x3021		print character from R0

0001 000 000 1 01111		; x3022		ADD 16 to R0
0001 000 000 1 01111		; x3023		ADD 16 to R0

0000 1 1 1 111101010		; x3024		Return to loop (x300F)

; Inc Counter Branch
0001 001 001 1 10000		; x3025		Subtract 16 from R1
0001 001 001 1 10110		; x3026		Subtract 10 from R1
0000 0 1 1 111011001		; x3027		Return to loop start (x3001)  if not within bounds char > 90

0001 010 010 1 00001		; x3028		Increment Counter by 1

0000 1 1 1 111010111		; x3029		Return to loop start (x3001) 


